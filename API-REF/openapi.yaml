openapi: 3.1.0
info:
  title: Concierge Collector API V3
  description: Professional async API with MongoDB support for entity and curation
    management
  version: 3.0.0
paths:
  /api/v3/health:
    get:
      tags:
      - system
      summary: Health Check
      description: Health check endpoint with database connectivity test
      operationId: health_check_api_v3_health_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HealthResponse'
  /api/v3/info:
    get:
      tags:
      - system
      summary: Get Info
      description: Get API information
      operationId: get_info_api_v3_info_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/APIInfo'
  /api/v3/entities:
    post:
      tags:
      - entities
      summary: Create Entity
      description: 'Create a new entity or update if exists (upsert with merge)


        **Authentication Required:** Include `X-API-Key` header'
      operationId: create_entity_api_v3_entities_post
      security:
      - APIKeyHeader: []
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EntityCreate'
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Entity'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    get:
      tags:
      - entities
      summary: List Entities
      description: List entities with filters and pagination
      operationId: list_entities_api_v3_entities_get
      parameters:
      - name: type
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Type
      - name: name
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Name
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          maximum: 1000
          minimum: 1
          default: 50
          title: Limit
      - name: offset
        in: query
        required: false
        schema:
          type: integer
          minimum: 0
          default: 0
          title: Offset
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v3/entities/{entity_id}:
    get:
      tags:
      - entities
      summary: Get Entity
      description: Get entity by ID
      operationId: get_entity_api_v3_entities__entity_id__get
      parameters:
      - name: entity_id
        in: path
        required: true
        schema:
          type: string
          title: Entity Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Entity'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    patch:
      tags:
      - entities
      summary: Update Entity
      description: 'Update entity with optimistic locking


        **Authentication Required:** Include `X-API-Key` header'
      operationId: update_entity_api_v3_entities__entity_id__patch
      security:
      - APIKeyHeader: []
      parameters:
      - name: entity_id
        in: path
        required: true
        schema:
          type: string
          title: Entity Id
      - name: If-Match
        in: header
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: If-Match
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/EntityUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Entity'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags:
      - entities
      summary: Delete Entity
      description: 'Delete entity


        **Authentication Required:** Include `X-API-Key` header'
      operationId: delete_entity_api_v3_entities__entity_id__delete
      security:
      - APIKeyHeader: []
      parameters:
      - name: entity_id
        in: path
        required: true
        schema:
          type: string
          title: Entity Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v3/curations:
    post:
      tags:
      - curations
      summary: Create Curation
      description: 'Create a new curation


        **Authentication Required:** Include `X-API-Key` header'
      operationId: create_curation_api_v3_curations_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CurationCreate'
        required: true
      responses:
        '201':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Curation'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - APIKeyHeader: []
  /api/v3/curations/search:
    get:
      tags:
      - curations
      summary: Search Curations
      description: Search curations with filters
      operationId: search_curations_api_v3_curations_search_get
      parameters:
      - name: entity_id
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Entity Id
      - name: curator_id
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: Curator Id
      - name: limit
        in: query
        required: false
        schema:
          type: integer
          maximum: 1000
          minimum: 1
          default: 50
          title: Limit
      - name: offset
        in: query
        required: false
        schema:
          type: integer
          minimum: 0
          default: 0
          title: Offset
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PaginatedResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v3/curations/entities/{entity_id}/curations:
    get:
      tags:
      - curations
      summary: Get Entity Curations
      description: Get all curations for an entity
      operationId: get_entity_curations_api_v3_curations_entities__entity_id__curations_get
      parameters:
      - name: entity_id
        in: path
        required: true
        schema:
          type: string
          title: Entity Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                type: array
                items:
                  $ref: '#/components/schemas/Curation'
                title: Response Get Entity Curations Api V3 Curations Entities  Entity
                  Id  Curations Get
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v3/curations/{curation_id}:
    get:
      tags:
      - curations
      summary: Get Curation
      description: Get curation by ID
      operationId: get_curation_api_v3_curations__curation_id__get
      parameters:
      - name: curation_id
        in: path
        required: true
        schema:
          type: string
          title: Curation Id
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Curation'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    patch:
      tags:
      - curations
      summary: Update Curation
      description: 'Update curation with optimistic locking


        **Authentication Required:** Include `X-API-Key` header'
      operationId: update_curation_api_v3_curations__curation_id__patch
      security:
      - APIKeyHeader: []
      parameters:
      - name: curation_id
        in: path
        required: true
        schema:
          type: string
          title: Curation Id
      - name: If-Match
        in: header
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          title: If-Match
      requestBody:
        required: true
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/CurationUpdate'
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/Curation'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
    delete:
      tags:
      - curations
      summary: Delete Curation
      description: 'Delete curation


        **Authentication Required:** Include `X-API-Key` header'
      operationId: delete_curation_api_v3_curations__curation_id__delete
      security:
      - APIKeyHeader: []
      parameters:
      - name: curation_id
        in: path
        required: true
        schema:
          type: string
          title: Curation Id
      responses:
        '204':
          description: Successful Response
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v3/places/nearby:
    get:
      tags:
      - places
      summary: Search Nearby
      description: "Search for nearby places using Google Places API (New)\n\nThis\
        \ endpoint proxies requests to Google Places API (New),\nkeeping the API key\
        \ secure on the backend.\n\nArgs:\n    latitude: Center latitude for search\n\
        \    longitude: Center longitude for search\n    radius: Search radius in\
        \ meters (1-50000)\n    type: Place type (restaurant, cafe, bar, etc.)\n \
        \   keyword: Optional keyword filter\n    max_results: Maximum results (1-20,\
        \ API limit)\n    \nReturns:\n    NearbySearchResponse with place results\n\
        \    \nExample:\n    GET /api/v3/places/nearby?latitude=40.7128&longitude=-74.0060&radius=5000"
      operationId: search_nearby_api_v3_places_nearby_get
      parameters:
      - name: latitude
        in: query
        required: true
        schema:
          type: number
          description: Latitude for search center
          title: Latitude
        description: Latitude for search center
      - name: longitude
        in: query
        required: true
        schema:
          type: number
          description: Longitude for search center
          title: Longitude
        description: Longitude for search center
      - name: radius
        in: query
        required: false
        schema:
          type: integer
          maximum: 50000
          minimum: 1
          description: Search radius in meters
          default: 5000
          title: Radius
        description: Search radius in meters
      - name: type
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          description: Place type filter
          default: restaurant
          title: Type
        description: Place type filter
      - name: keyword
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          description: Keyword search
          title: Keyword
        description: Keyword search
      - name: max_results
        in: query
        required: false
        schema:
          type: integer
          maximum: 60
          minimum: 1
          description: Maximum results to return
          default: 20
          title: Max Results
        description: Maximum results to return
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/NearbySearchResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v3/places/details/{place_id}:
    get:
      tags:
      - places
      summary: Get Place Details
      description: "Get detailed information about a place\n\nThis endpoint proxies\
        \ requests to Google Places Details API.\n\nArgs:\n    place_id: Google Place\
        \ ID\n    fields: Optional comma-separated fields (name,rating,formatted_address,etc.)\n\
        \    \nReturns:\n    PlaceDetailsResponse with place details\n    \nExample:\n\
        \    GET /api/v3/places/details/ChIJN1t_tDeuEmsRUsoyG83frY4"
      operationId: get_place_details_api_v3_places_details__place_id__get
      parameters:
      - name: place_id
        in: path
        required: true
        schema:
          type: string
          title: Place Id
      - name: fields
        in: query
        required: false
        schema:
          anyOf:
          - type: string
          - type: 'null'
          description: Comma-separated list of fields to return
          title: Fields
        description: Comma-separated list of fields to return
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/PlaceDetailsResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v3/places/health:
    get:
      tags:
      - places
      summary: Health Check
      description: "Check if Google Places API is configured and accessible\n\nReturns:\n\
        \    Status of Google Places API configuration"
      operationId: health_check_api_v3_places_health_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
  /api/v3/ai/orchestrate:
    post:
      tags:
      - AI Services
      summary: Orchestrate
      description: 'Intelligent AI workflow orchestration.


        **Authentication Required:** Include `X-API-Key` header

        **⚠️  Costs Money:** Uses OpenAI API - monitor usage


        Combines multiple AI services (transcription, concept extraction, image analysis)

        in smart workflows with flexible output control.


        **Smart Defaults:**

        - No `output` object = return full results without saving

        - With `output` but missing fields = defaults applied

        - Default `entity_type` = "restaurant"

        - Default `format` = "full"


        **Workflows:**

        - `audio_only`: Transcribe + extract concepts

        - `image_only`: Analyze image visually

        - `place_id_with_audio`: Create entity + transcribe + extract concepts

        - `place_id_with_image`: Create entity + analyze image

        - `place_id_with_audio_and_image`: Combine all sources


        **Examples:**

        ```python

        # Simple: audio only, no config

        {"audio_file": "base64..."}

        # Returns transcription + concepts without saving


        # Preview before saving

        {"place_id": "ChIJ...", "audio_file": "...", "output": {"save_to_db": false}}


        # Save without returning (batch efficient)

        {"place_id": "...", "audio_file": "...", "output": {"save_to_db": true, "format":
        "ids_only"}}

        ```'
      operationId: orchestrate_api_v3_ai_orchestrate_post
      requestBody:
        content:
          application/json:
            schema:
              $ref: '#/components/schemas/OrchestrateRequest'
        required: true
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/OrchestrateResponse'
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
      security:
      - APIKeyHeader: []
  /api/v3/ai/usage-stats:
    get:
      tags:
      - AI Services
      summary: Get Usage Stats
      description: 'Get AI usage statistics.


        Returns counts of transcriptions, concept extractions, and image analyses

        for the specified number of days.'
      operationId: get_usage_stats_api_v3_ai_usage_stats_get
      parameters:
      - name: days
        in: query
        required: false
        schema:
          type: integer
          default: 7
          title: Days
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
        '422':
          description: Validation Error
          content:
            application/json:
              schema:
                $ref: '#/components/schemas/HTTPValidationError'
  /api/v3/ai/health:
    get:
      tags:
      - AI Services
      summary: Health Check
      description: Health check for AI services
      operationId: health_check_api_v3_ai_health_get
      responses:
        '200':
          description: Successful Response
          content:
            application/json:
              schema: {}
components:
  schemas:
    APIInfo:
      properties:
        name:
          type: string
          title: Name
        version:
          type: string
          title: Version
        description:
          type: string
          title: Description
      type: object
      required:
      - name
      - version
      - description
      title: APIInfo
      description: API information
    Curation:
      properties:
        notes:
          anyOf:
          - $ref: '#/components/schemas/CurationNotes'
          - type: 'null'
        categories:
          $ref: '#/components/schemas/CurationCategories'
        sources:
          items:
            type: string
          type: array
          title: Sources
        _id:
          type: string
          title: ' Id'
        curation_id:
          type: string
          title: Curation Id
        entity_id:
          type: string
          title: Entity Id
        curator:
          $ref: '#/components/schemas/CuratorInfo'
        createdAt:
          type: string
          format: date-time
          title: Createdat
        updatedAt:
          type: string
          format: date-time
          title: Updatedat
        version:
          type: integer
          title: Version
          default: 1
      type: object
      required:
      - _id
      - curation_id
      - entity_id
      - curator
      title: Curation
      description: Complete Curation with system fields
    CurationCategories:
      properties:
        cuisine:
          items:
            type: string
          type: array
          title: Cuisine
        mood:
          items:
            type: string
          type: array
          title: Mood
        occasion:
          items:
            type: string
          type: array
          title: Occasion
        price_range:
          items:
            type: string
          type: array
          title: Price Range
        setting:
          items:
            type: string
          type: array
          title: Setting
        crowd:
          items:
            type: string
          type: array
          title: Crowd
        food_style:
          items:
            type: string
          type: array
          title: Food Style
        drinks:
          items:
            type: string
          type: array
          title: Drinks
        menu:
          items:
            type: string
          type: array
          title: Menu
        suitable_for:
          items:
            type: string
          type: array
          title: Suitable For
      type: object
      title: CurationCategories
      description: Concept categories
    CurationCreate:
      properties:
        notes:
          anyOf:
          - $ref: '#/components/schemas/CurationNotes'
          - type: 'null'
        categories:
          $ref: '#/components/schemas/CurationCategories'
        sources:
          items:
            type: string
          type: array
          title: Sources
        curation_id:
          type: string
          title: Curation Id
          description: Unique curation ID
        entity_id:
          type: string
          title: Entity Id
          description: Entity this curation is about
        curator:
          $ref: '#/components/schemas/CuratorInfo'
      type: object
      required:
      - curation_id
      - entity_id
      - curator
      title: CurationCreate
      description: Curation creation request
    CurationNotes:
      properties:
        public:
          anyOf:
          - type: string
          - type: 'null'
          title: Public
        private:
          anyOf:
          - type: string
          - type: 'null'
          title: Private
      type: object
      title: CurationNotes
      description: Public and private notes
    CurationUpdate:
      properties:
        notes:
          anyOf:
          - $ref: '#/components/schemas/CurationNotes'
          - type: 'null'
        categories:
          anyOf:
          - $ref: '#/components/schemas/CurationCategories'
          - type: 'null'
        sources:
          anyOf:
          - items:
              type: string
            type: array
          - type: 'null'
          title: Sources
      type: object
      title: CurationUpdate
      description: Curation update request (all optional for PATCH)
    CuratorInfo:
      properties:
        id:
          type: string
          title: Id
        name:
          type: string
          title: Name
        email:
          anyOf:
          - type: string
            format: email
          - type: 'null'
          title: Email
      type: object
      required:
      - id
      - name
      title: CuratorInfo
      description: Curator information
    Entity:
      properties:
        type:
          type: string
          enum:
          - restaurant
          - hotel
          - venue
          - bar
          - cafe
          - other
          title: Type
        name:
          type: string
          maxLength: 500
          minLength: 1
          title: Name
        status:
          type: string
          enum:
          - active
          - inactive
          - draft
          title: Status
          default: active
        externalId:
          anyOf:
          - type: string
          - type: 'null'
          title: Externalid
        metadata:
          items:
            $ref: '#/components/schemas/Metadata'
          type: array
          title: Metadata
        sync:
          anyOf:
          - $ref: '#/components/schemas/SyncInfo'
          - type: 'null'
        data:
          anyOf:
          - type: object
          - type: 'null'
          title: Data
          description: Flexible data storage (location, contacts, media, attributes,
            etc.)
        _id:
          type: string
          title: ' Id'
        entity_id:
          type: string
          title: Entity Id
        createdAt:
          type: string
          format: date-time
          title: Createdat
        updatedAt:
          type: string
          format: date-time
          title: Updatedat
        createdBy:
          anyOf:
          - type: string
          - type: 'null'
          title: Createdby
        updatedBy:
          anyOf:
          - type: string
          - type: 'null'
          title: Updatedby
        version:
          type: integer
          title: Version
          description: Optimistic locking version
          default: 1
      type: object
      required:
      - type
      - name
      - _id
      - entity_id
      title: Entity
      description: Complete Entity with system fields
    EntityCreate:
      properties:
        type:
          type: string
          enum:
          - restaurant
          - hotel
          - venue
          - bar
          - cafe
          - other
          title: Type
        name:
          type: string
          maxLength: 500
          minLength: 1
          title: Name
        status:
          type: string
          enum:
          - active
          - inactive
          - draft
          title: Status
          default: active
        externalId:
          anyOf:
          - type: string
          - type: 'null'
          title: Externalid
        metadata:
          items:
            $ref: '#/components/schemas/Metadata'
          type: array
          title: Metadata
        sync:
          anyOf:
          - $ref: '#/components/schemas/SyncInfo'
          - type: 'null'
        data:
          anyOf:
          - type: object
          - type: 'null'
          title: Data
          description: Flexible data storage (location, contacts, media, attributes,
            etc.)
        entity_id:
          type: string
          title: Entity Id
          description: Unique entity ID
        createdBy:
          anyOf:
          - type: string
          - type: 'null'
          title: Createdby
          description: Curator ID who created this
      type: object
      required:
      - type
      - name
      - entity_id
      title: EntityCreate
      description: Entity creation request
    EntityUpdate:
      properties:
        name:
          anyOf:
          - type: string
            maxLength: 500
            minLength: 1
          - type: 'null'
          title: Name
        type:
          anyOf:
          - type: string
            enum:
            - restaurant
            - hotel
            - venue
            - bar
            - cafe
            - other
          - type: 'null'
          title: Type
        status:
          anyOf:
          - type: string
            enum:
            - active
            - inactive
            - draft
          - type: 'null'
          title: Status
        externalId:
          anyOf:
          - type: string
          - type: 'null'
          title: Externalid
        metadata:
          anyOf:
          - items:
              $ref: '#/components/schemas/Metadata'
            type: array
          - type: 'null'
          title: Metadata
        sync:
          anyOf:
          - $ref: '#/components/schemas/SyncInfo'
          - type: 'null'
        data:
          anyOf:
          - type: object
          - type: 'null'
          title: Data
          description: Flexible data storage
        updatedBy:
          anyOf:
          - type: string
          - type: 'null'
          title: Updatedby
          description: Curator ID who updated this
      type: object
      title: EntityUpdate
      description: Entity update request (all optional for PATCH)
    HTTPValidationError:
      properties:
        detail:
          items:
            $ref: '#/components/schemas/ValidationError'
          type: array
          title: Detail
      type: object
      title: HTTPValidationError
    HealthResponse:
      properties:
        status:
          type: string
          title: Status
        timestamp:
          type: string
          format: date-time
          title: Timestamp
        database:
          type: string
          title: Database
      type: object
      required:
      - status
      - timestamp
      - database
      title: HealthResponse
      description: Health check response
    Metadata:
      properties:
        type:
          type: string
          title: Type
          description: Metadata type (e.g., 'google_places', 'michelin')
        source:
          type: string
          title: Source
          description: Data source identifier
        importedAt:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Importedat
          description: Import timestamp
        data:
          type: object
          title: Data
          description: Flexible data storage
      type: object
      required:
      - type
      - source
      title: Metadata
      description: Extensible metadata from multiple sources
    NearbySearchResponse:
      properties:
        results:
          items:
            $ref: '#/components/schemas/PlaceResult'
          type: array
          title: Results
        status:
          type: string
          title: Status
        error_message:
          anyOf:
          - type: string
          - type: 'null'
          title: Error Message
        next_page_token:
          anyOf:
          - type: string
          - type: 'null'
          title: Next Page Token
      type: object
      required:
      - results
      - status
      title: NearbySearchResponse
      description: Response for nearby search
    OrchestrateRequest:
      properties:
        workflow_type:
          type: string
          title: Workflow Type
          description: 'Workflow type: auto, place_id, entity_id, audio_only, image_only,
            etc.'
          default: auto
        place_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Place Id
          description: Google Place ID
        entity_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Entity Id
          description: Existing entity ID
        audio_file:
          anyOf:
          - type: string
          - type: 'null'
          title: Audio File
          description: Audio file (base64 encoded)
        audio_url:
          anyOf:
          - type: string
          - type: 'null'
          title: Audio Url
          description: Audio file URL
        image_file:
          anyOf:
          - type: string
          - type: 'null'
          title: Image File
          description: Image file (base64 encoded)
        image_url:
          anyOf:
          - type: string
          - type: 'null'
          title: Image Url
          description: Image URL
        text:
          anyOf:
          - type: string
          - type: 'null'
          title: Text
          description: Direct text input
        output:
          anyOf:
          - type: object
          - type: 'null'
          title: Output
          description: 'Output configuration: save_to_db, return_results, format'
        language:
          anyOf:
          - type: string
          - type: 'null'
          title: Language
          description: Language for transcription
          default: pt-BR
        curator_id:
          anyOf:
          - type: string
          - type: 'null'
          title: Curator Id
          description: Curator ID
        entity_type:
          anyOf:
          - type: string
          - type: 'null'
          title: Entity Type
          description: Entity type
          default: restaurant
      type: object
      title: OrchestrateRequest
      description: Request model for AI orchestration endpoint
      example:
        audio_file: base64_encoded_audio...
        entity_type: restaurant
    OrchestrateResponse:
      properties:
        workflow:
          type: string
          title: Workflow
        results:
          type: object
          title: Results
        saved_to_db:
          type: boolean
          title: Saved To Db
        processing_time_ms:
          type: integer
          title: Processing Time Ms
      type: object
      required:
      - workflow
      - results
      - saved_to_db
      - processing_time_ms
      title: OrchestrateResponse
      description: Response model for AI orchestration
    PaginatedResponse:
      properties:
        items:
          items: {}
          type: array
          title: Items
        total:
          type: integer
          title: Total
        limit:
          type: integer
          title: Limit
        offset:
          type: integer
          title: Offset
      type: object
      required:
      - items
      - total
      - limit
      - offset
      title: PaginatedResponse
      description: Paginated list response
    PlaceDetailsResponse:
      properties:
        result:
          type: object
          title: Result
        status:
          type: string
          title: Status
        error_message:
          anyOf:
          - type: string
          - type: 'null'
          title: Error Message
      type: object
      required:
      - result
      - status
      title: PlaceDetailsResponse
      description: Response for place details
    PlaceResult:
      properties:
        place_id:
          type: string
          title: Place Id
        name:
          type: string
          title: Name
        vicinity:
          anyOf:
          - type: string
          - type: 'null'
          title: Vicinity
        rating:
          anyOf:
          - type: number
          - type: 'null'
          title: Rating
        user_ratings_total:
          anyOf:
          - type: integer
          - type: 'null'
          title: User Ratings Total
        price_level:
          anyOf:
          - type: integer
          - type: 'null'
          title: Price Level
        types:
          items:
            type: string
          type: array
          title: Types
          default: []
        geometry:
          type: object
          title: Geometry
        business_status:
          anyOf:
          - type: string
          - type: 'null'
          title: Business Status
        opening_hours:
          anyOf:
          - type: object
          - type: 'null'
          title: Opening Hours
        photos:
          anyOf:
          - items:
              type: object
            type: array
          - type: 'null'
          title: Photos
      type: object
      required:
      - place_id
      - name
      - geometry
      title: PlaceResult
      description: Google Places API result (simplified)
    SyncInfo:
      properties:
        serverId:
          anyOf:
          - type: integer
          - type: 'null'
          title: Serverid
          description: Server-side ID
        status:
          type: string
          title: Status
          description: Sync status
          default: pending
        lastSyncedAt:
          anyOf:
          - type: string
            format: date-time
          - type: 'null'
          title: Lastsyncedat
          description: Last sync timestamp
      type: object
      title: SyncInfo
      description: Client-server synchronization metadata
    ValidationError:
      properties:
        loc:
          items:
            anyOf:
            - type: string
            - type: integer
          type: array
          title: Location
        msg:
          type: string
          title: Message
        type:
          type: string
          title: Error Type
      type: object
      required:
      - loc
      - msg
      - type
      title: ValidationError
  securitySchemes:
    APIKeyHeader:
      type: apiKey
      in: header
      name: X-API-Key

